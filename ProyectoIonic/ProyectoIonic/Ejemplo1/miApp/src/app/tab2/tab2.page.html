<ion-header [translucent]="true">
  <ion-toolbar color="secondary">
    <ion-title>
      Calculadora
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Calculadora</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="calculator-container">
    <ion-card>
      <ion-card-content>
        <!-- Display -->
        <div class="display">
          <h1>{{ display }}</h1>
        </div>

        <!-- Buttons -->
        <ion-grid>
          <!-- Clear and operations row -->
          <ion-row>
            <ion-col size="6">
              <ion-button expand="block" fill="outline" (click)="clear()" color="danger">
                <ion-icon name="refresh"></ion-icon>
                Limpiar
              </ion-button>
            </ion-col>
            <ion-col size="3">
              <ion-button expand="block" (click)="operate('/')" color="tertiary">รท</ion-button>
            </ion-col>
            <ion-col size="3">
              <ion-button expand="block" (click)="operate('*')" color="tertiary">ร</ion-button>
            </ion-col>
          </ion-row>

          <!-- Numbers row 7-9 -->
          <ion-row>
            <ion-col size="3">
              <ion-button expand="block" (click)="inputNumber('7')">7</ion-button>
            </ion-col>
            <ion-col size="3">
              <ion-button expand="block" (click)="inputNumber('8')">8</ion-button>
            </ion-col>
            <ion-col size="3">
              <ion-button expand="block" (click)="inputNumber('9')">9</ion-button>
            </ion-col>
            <ion-col size="3">
              <ion-button expand="block" (click)="operate('-')" color="tertiary">-</ion-button>
            </ion-col>
          </ion-row>

          <!-- Numbers row 4-6 -->
          <ion-row>
            <ion-col size="3">
              <ion-button expand="block" (click)="inputNumber('4')">4</ion-button>
            </ion-col>
            <ion-col size="3">
              <ion-button expand="block" (click)="inputNumber('5')">5</ion-button>
            </ion-col>
            <ion-col size="3">
              <ion-button expand="block" (click)="inputNumber('6')">6</ion-button>
            </ion-col>
            <ion-col size="3">
              <ion-button expand="block" (click)="operate('+')" color="tertiary">+</ion-button>
            </ion-col>
          </ion-row>

          <!-- Numbers row 1-3 -->
          <ion-row>
            <ion-col size="3">
              <ion-button expand="block" (click)="inputNumber('1')">1</ion-button>
            </ion-col>
            <ion-col size="3">
              <ion-button expand="block" (click)="inputNumber('2')">2</ion-button>
            </ion-col>
            <ion-col size="3">
              <ion-button expand="block" (click)="inputNumber('3')">3</ion-button>
            </ion-col>
            <ion-col size="3" size-md="3">
              <ion-button expand="block" (click)="calculate()" color="success" class="equals-btn">
                =
              </ion-button>
            </ion-col>
          </ion-row>

          <!-- Zero and decimal -->
          <ion-row>
            <ion-col size="6">
              <ion-button expand="block" (click)="inputNumber('0')">0</ion-button>
            </ion-col>
            <ion-col size="3">
              <ion-button expand="block" (click)="inputDecimal()">.</ion-button>
            </ion-col>
            <ion-col size="3">
              <ion-button expand="block" (click)="backspace()" color="warning">
                <ion-icon name="backspace"></ion-icon>
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>

    <!-- History -->
    <ion-card *ngIf="history.length > 0">
      <ion-card-header>
        <ion-card-title>Historial</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-list>
          <ion-item *ngFor="let item of history.slice(-5)">
            <ion-label>{{ item }}</ion-label>
          </ion-item>
        </ion-list>
        <ion-button fill="clear" (click)="clearHistory()" color="danger" size="small">
          Limpiar historial
        </ion-button>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
